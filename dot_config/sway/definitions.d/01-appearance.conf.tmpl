set $background {{ .bg_image }}

# Your preferred application launcher
set $menu rofi -show combi -combi-modi "drun,run" -terminal $term -ssh-command "{terminal} {ssh-client} {host} [-p {port}]" -run-shell-command "{terminal} {cmd}" -show-icons -lines 10 -width 35

# Lockscreen configuration
set $locking swaylock \
    --daemonize \
    --text-color "$color0" \
    --color "$selection-color" \
    --key-hl-color "$color3" \
    --bs-hl-color "$color5" \
    --inside-color "$color8" \
    --inside-clear-color "$color15" \
    --inside-ver-color "$color10" \
    --inside-wrong-color "$color9" \
    --ring-color "$color0" \
    --ring-clear-color "$color7" \
    --ring-ver-color "$color2" \
    --ring-wrong-color "$color1" \
    --show-failed-attempts \
    --fade-in 0.2 \
    --grace 2 \
    --effect-vignette 0.5:0.5 \
    --effect-blur 7x5 \
    --ignore-empty-password \
    --screenshots \
    --clock

set $idle swayidle -w \
    timeout 240 'light -G > /tmp/brightness && light -S 10' resume 'light -S $([ -f /tmp/brightness ] && cat /tmp/brightness || echo 100%)' \
    timeout 300 'exec $locking' \
    timeout 600 'swaymsg "output * dpms off"' \
    resume 'swaymsg "output * dpms on"' \
    before-sleep 'playerctl pause' \
    before-sleep 'exec $locking'
